

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Target Mass Corrections &mdash; yadism 0.3.3~develop documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Database Test Suite" href="../dev-tools/db-suite.html" />
    <link rel="prev" title="Scale Variations" href="scale-variations.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo-docs.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                develop
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Package Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../yadism.html">yadism</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zzz-refs.html">References</a></li>
</ul>
<p class="caption"><span class="caption-text">Theory</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="DIS-intro.html">DIS introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="coeff-funcs.html">Coefficient Functions Calculation</a></li>
<li class="toctree-l1"><a class="reference internal" href="light-flavors.html">Light Flavors</a></li>
<li class="toctree-l1"><a class="reference internal" href="heavy-flavors.html">Heavy Flavors</a></li>
<li class="toctree-l1"><a class="reference internal" href="scale-variations.html">Scale Variations</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Target Mass Corrections</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#work-in-progress-notes">Work in Progress notes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#note-1">Note 1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#note-2-caching">Note 2 (caching)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#note-3-physics">Note 3 (physics)</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Dev Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/db-suite.html">Database Test Suite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/benchmark-runner.html">Benchmark Runner</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/tests.html">Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/third-party.html">Third Party Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/code-todos.html">TODOs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">yadism</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Target Mass Corrections</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/N3PDF/yadism/blob/master/docs/sphinx/source/theory/TMC.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <style type="text/css">
  span.underlined {
    text-decoration: underline;
  }
</style><style type="text/css">
  span.eqref:before {
    content: "Eq. (";
  }
  span.eqref:after {
    content: ")";
  }
</style><style type="text/css">
  span.eqref:before {
    content: "Eq. (";
  }
  span.eqref:after {
    content: ")";
  }
</style><div class="section" id="target-mass-corrections">
<span id="tmc-page"></span><h1>Target Mass Corrections<a class="headerlink" href="#target-mass-corrections" title="Permalink to this headline">¶</a></h1>
<p><a class="bibtex reference internal" href="../zzz-refs.html#tmc-review" id="id1">[S+08]</a>, <a class="bibtex reference internal" href="../zzz-refs.html#tmc-iranian" id="id2">[GR20]</a></p>
<hr class="docutils" />
<div class="section" id="work-in-progress-notes">
<h2>Work in Progress notes<a class="headerlink" href="#work-in-progress-notes" title="Permalink to this headline">¶</a></h2>
<p>Runner: holds a list of structure functions instances, that will act as our
“soft singletons”
StructureFunction: holds a reference to his parent runner, in this way its also
able to access its StructureFunctions siblings (like F2 from FL, in order to
compute TMCs, e.g.)</p>
<p>Caching: it is managed at the level of StructureFunction, while the values are
kept at the level of ESF (so the StructureFunction is just routing the caller to
the correct instance of ESF to ask for values)</p>
</div>
<div class="section" id="note-1">
<h2>Note 1<a class="headerlink" href="#note-1" title="Permalink to this headline">¶</a></h2>
<p>Here is the third time that we are proliferating the SF classes to all the
flavours and kinds (SF/ESFTMC/ESF x 2/L x light/c/b/t), but at the bottom level
they are needed (ESF implementation are actually different for every option, so
it makes sense to have different classes).
The classes one level above (SF/ESFTMC) are simply shadowing the ones below in
order to route to the correct one. The same business can be done with a <cite>switch</cite>
pattern (actually <cite>if…elif…elif…</cite> in python), but the only difference is
how many lines of code you are saving.
<strong>Proposal</strong> for a better layout in which we don’t need to explicitly shadow
from level to level (and we don’t need to route with <cite>if</cite> as well) are liked and
likeòy to be accepted.</p>
</div>
<div class="section" id="note-2-caching">
<h2>Note 2 (caching)<a class="headerlink" href="#note-2-caching" title="Permalink to this headline">¶</a></h2>
<p>Since the responsibility of caching is of SF as written above we decided the
following layout:</p>
<ul>
<li><p>SF instantiate ESF or ESFTMC according to TMC flag in theory dictionary,
and append it to <cite>self.__ESFs</cite> at load time, i.e. in <cite>self.load()</cite> (these
are the observables to be computed)</p></li>
<li><p>when asked for output if noTMC a ESF is called and the instance is
registered</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>self.get_ouput()</cite> is used for getting the result passing through:</p></li>
<li><p><cite>self.get_ESF()</cite> is used for getting the instance and register to the
cache</p></li>
</ul>
</div></blockquote>
</li>
<li><p>if TMC a ESFTMC is called, and whenever he needs an ESF instance to
compute a point it will ask its parent SF with <cite>SF.get_ESF()</cite> method, in
this way passing through the cache</p></li>
</ul>
</div>
<div class="section" id="note-3-physics">
<h2>Note 3 (physics)<a class="headerlink" href="#note-3-physics" title="Permalink to this headline">¶</a></h2>
<p>There 3 schemes in the reference:</p>
<ul class="simple">
<li><p><strong>exact</strong>: is the full and involves integration</p></li>
<li><p><strong>approximate</strong>: is stemming from the exact, but the strcture functions in
the integrand are evaluated at the bottom end</p></li>
<li><p><strong>APFEL</strong>: the one used in APFEL, similar to the exact but with g2 in
the review (Schienbein et al.) set to 0</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../dev-tools/db-suite.html" class="btn btn-neutral float-right" title="Database Test Suite" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="scale-variations.html" class="btn btn-neutral float-left" title="Scale Variations" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
  <!-- your html code here -->
  <p style="text-align: center;">Made with ❤  and ⏲  by N3PDF team.</p>
    
    <p style="text-align: center; font-size: 7pt;">&copy; Copyright 2019-2020, the N3PDF team</p>


</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
<script>
  var image_container = document.createElement("DIV");
  var n3pdf_link = document.createElement("A");
  n3pdf_link.href = "http://n3pdf.mi.infn.it/";
  image_container.appendChild(n3pdf_link);
  var image = document.createElement("IMG");
  image.src = "/yadism/_assets/n3pdf_badge.png";
  image.alt = "N3PDF-logo";
  image.className = "logo";
  image.style.width = "70%";
  image.style.marginTop = "17%";
  image.style.display = "block";
  image.style.marginLeft = "auto";
  image.style.marginRight = "auto";
  n3pdf_link.appendChild(image);
  var sidebar_content = document.getElementsByClassName("wy-side-scroll")[0];
  sidebar_content.appendChild(image_container);

  console.log(location.hostname);
</script>


</body>
</html>