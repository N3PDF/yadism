

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Target Mass Corrections &mdash; yadism 0.5.0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../_static/logo-favicon-32x32.png"/>
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script async="async" config="TeX-AMS-MML_HTMLorMML" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"extensions": ["tex2jax.js"], "jax": ["input/TeX", "output/HTML-CSS"], "loader": {"load": ["[tex]/color", "[tex]/physics"]}, "tex": {"packages": {"[+]": ["base", "color", "physics"]}}})</script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Miscellanea" href="../misc/index.html" />
    <link rel="prev" title="Evaluated Structure Function" href="ESF.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html">
          

          
            
            <img src="../_static/logo-docs.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.5
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview/features.html">Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/tutorials/index.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../overview/indices.html">Indices and tables</a></li>
</ul>
<p class="caption"><span class="caption-text">Theory</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../theory/DIS-intro.html">Introduction to DIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory/fact.html">Factorization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory/fns.html">Flavor Number Schemes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory/coeff-funcs.html">Coefficient Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../theory/scale-variations.html">Scale Variations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../zzz-refs.html">References</a></li>
</ul>
<p class="caption"><span class="caption-text">Implementation</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../yadism.html">Overview</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Structure</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="runner.html">Runner</a></li>
<li class="toctree-l3"><a class="reference internal" href="input.html">Input layer</a></li>
<li class="toctree-l3"><a class="reference internal" href="SF.html">Structure Function interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="ESF.html">Evaluated Structure Function</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Target Mass Corrections</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#work-in-progress-notes">Work in Progress notes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#note-2-caching">Note 2 (caching)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index.html#brief-descriptions">Brief Descriptions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../misc/index.html">Miscellanea</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yadism.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yadism.html#usage">Usage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../yadism.html#description">Description</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules/yadism.html">API</a></li>
</ul>
<p class="caption"><span class="caption-text">Dev Tools</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/tests.html">Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/db-suite.html">Database Test Suite</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/yadmark.html">Yadmark</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/extras.html">Extras</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/third-party.html">Third Party Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev-tools/code-todos.html">TODOs</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">yadism</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../yadism.html">yadism</a> &raquo;</li>
        
          <li><a href="index.html">Code Structure</a> &raquo;</li>
        
      <li>Target Mass Corrections</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            
              <a href="https://github.com/N3PDF/yadism/blob/master/docs/sphinx/source/package-structure/TMC.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <style type="text/css">
  span.underlined {
    text-decoration: underline;
  }
  .red {
    color:red;
  }
  .green {
    color:green;
  }
  .blue {
    color:blue;
  }
  .purple {
    color:purple;
  }
</style><style type="text/css">
  span.eqref:before {
    content: "Eq. (";
  }
  span.eqref:after {
    content: ")";
  }
</style><div class="section" id="target-mass-corrections">
<h1>Target Mass Corrections<a class="headerlink" href="#target-mass-corrections" title="Permalink to this headline">¶</a></h1>
<div class="section" id="work-in-progress-notes">
<h2>Work in Progress notes<a class="headerlink" href="#work-in-progress-notes" title="Permalink to this headline">¶</a></h2>
<p>Runner: holds a list of structure functions instances, that will act as our
“soft singletons”
StructureFunction: holds a reference to his parent runner, in this way its also
able to access its StructureFunctions siblings (like F2 from FL, in order to
compute TMCs, e.g.)</p>
<p>Caching: it is managed at the level of StructureFunction, while the values are
kept at the level of ESF (so the StructureFunction is just routing the caller to
the correct instance of ESF to ask for values)</p>
</div>
<div class="section" id="note-2-caching">
<h2>Note 2 (caching)<a class="headerlink" href="#note-2-caching" title="Permalink to this headline">¶</a></h2>
<p>Since the responsibility of caching is of SF as written above we decided the
following layout:</p>
<ul>
<li><p>SF instantiate ESF or ESFTMC according to TMC flag in theory dictionary,
and append it to <cite>self.__ESFs</cite> at load time, i.e. in <cite>self.load()</cite> (these
are the observables to be computed)</p></li>
<li><p>when asked for output if noTMC a ESF is called and the instance is
registered</p>
<blockquote>
<div><ul class="simple">
<li><p><cite>self.get_ouput()</cite> is used for getting the result passing through:</p></li>
<li><p><cite>self.get_ESF()</cite> is used for getting the instance and register to the
cache</p></li>
</ul>
</div></blockquote>
</li>
<li><p>if TMC a ESFTMC is called, and whenever he needs an ESF instance to
compute a point it will ask its parent SF with <cite>SF.get_ESF()</cite> method, in
this way passing through the cache</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../misc/index.html" class="btn btn-neutral float-right" title="Miscellanea" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="ESF.html" class="btn btn-neutral float-left" title="Evaluated Structure Function" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
  <!-- your html code here -->
  <p style="text-align: center;">Made with ❤  and ⏲  by N3PDF team.</p>
    
    <p style="text-align: center; font-size: 7pt;">&copy; Copyright 2019-2021, the N3PDF team</p>


</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
<script>
  var image_container = document.createElement("DIV");
  var n3pdf_link = document.createElement("A");
  n3pdf_link.href = "http://n3pdf.mi.infn.it/";
  image_container.appendChild(n3pdf_link);
  var image = document.createElement("IMG");
  image.src = "/yadism/_assets/n3pdf_badge.png";
  image.alt = "N3PDF-logo";
  image.className = "logo";
  image.style.width = "70%";
  image.style.marginTop = "17%";
  image.style.display = "block";
  image.style.marginLeft = "auto";
  image.style.marginRight = "auto";
  n3pdf_link.appendChild(image);
  var sidebar_content = document.getElementsByClassName("wy-side-scroll")[0];
  sidebar_content.appendChild(image_container);

  console.log(location.hostname);
</script>


</body>
</html>